/**
 * FileManager
 * @license MIT
 * @copyright 2025 Natz
 */







const _0x31d2ea=_0x11f9;(function(_0x3695bd,_0x23851a){const _0x76aca5=_0x11f9,_0x5c557d=_0x3695bd();while(!![]){try{const _0x2a0863=-parseInt(_0x76aca5(0xd1))/0x1+-parseInt(_0x76aca5(0xf2))/0x2*(-parseInt(_0x76aca5(0xdf))/0x3)+parseInt(_0x76aca5(0xff))/0x4+-parseInt(_0x76aca5(0xfd))/0x5*(-parseInt(_0x76aca5(0xd3))/0x6)+parseInt(_0x76aca5(0xfa))/0x7*(parseInt(_0x76aca5(0xf8))/0x8)+parseInt(_0x76aca5(0xd5))/0x9+-parseInt(_0x76aca5(0xcb))/0xa;if(_0x2a0863===_0x23851a)break;else _0x5c557d['push'](_0x5c557d['shift']());}catch(_0x321438){_0x5c557d['push'](_0x5c557d['shift']());}}}(_0x1a5d,0xbbc46));import _0xe2837d from'fs';function _0x11f9(_0x5b8698,_0x5816d4){const _0x1a5d80=_0x1a5d();return _0x11f9=function(_0x11f99c,_0x3d8ef4){_0x11f99c=_0x11f99c-0xc4;let _0x324d5a=_0x1a5d80[_0x11f99c];return _0x324d5a;},_0x11f9(_0x5b8698,_0x5816d4);}function _0x1a5d(){const _0x3df3f7=['promises','mtimeMs','forEach','327wvhbyL','generateFileName','Error\x20cleaning\x20temp\x20files:','log','writeFile','saveFile','initDirectories','ðŸ§¹\x20File\x20dihapus:\x20','video','unlink','mkdirSync','getFileInfo','message','now','dirname','oblivinx_','size','images','baseDir','18718RukERT','slice','stickers','hex','getDirectoryPath','Error\x20deleting\x20file:','16lcQiIZ','url','3844183YYpiha','deleteFile','fileExists','3811695iZtObR','birthtime','1733028GaGtjC','stat','audio','cleanTempFiles','readdir','toISOString','Error\x20getting\x20file\x20info:','mtime','randomBytes','27211880snojNq','toString','join','error','existsSync','replace','349762mvZSge','Error\x20saving\x20file:','6lXPUzW','../../src/storage','4733811lpOkwS','values','extname','directories','temp','documents','getFilePath'];_0x1a5d=function(){return _0x3df3f7;};return _0x1a5d();}import _0x50c505 from'path';import _0xc39240 from'crypto';import{fileURLToPath}from'url';const __filename=fileURLToPath(import.meta[_0x31d2ea(0xf9)]),__dirname=_0x50c505[_0x31d2ea(0xed)](__filename);class FileManager{constructor(){const _0x28fcee=_0x31d2ea;this[_0x28fcee(0xf1)]=_0x50c505[_0x28fcee(0xcd)](__dirname,_0x28fcee(0xd4)),this[_0x28fcee(0xd8)]={'images':_0x28fcee(0xf0),'documents':_0x28fcee(0xda),'audio':_0x28fcee(0xc4),'video':_0x28fcee(0xe7),'stickers':_0x28fcee(0xf4),'temp':_0x28fcee(0xd9)},this[_0x28fcee(0xe5)]();}[_0x31d2ea(0xe5)](){const _0x24b3ca=_0x31d2ea;Object[_0x24b3ca(0xd6)](this[_0x24b3ca(0xd8)])[_0x24b3ca(0xde)](_0x1dbcf4=>{const _0x10f3fc=_0x24b3ca,_0x158b08=_0x50c505[_0x10f3fc(0xcd)](this[_0x10f3fc(0xf1)],_0x1dbcf4);!_0xe2837d[_0x10f3fc(0xcf)](_0x158b08)&&_0xe2837d[_0x10f3fc(0xe9)](_0x158b08,{'recursive':!![]});});}[_0x31d2ea(0xe0)](_0x2e69ab,_0x179237){const _0x42bbc2=_0x31d2ea,_0x543f5c=new Date()[_0x42bbc2(0xc7)]()[_0x42bbc2(0xf3)](0x0,0xa)[_0x42bbc2(0xd0)](/-/g,''),_0x521439=_0xc39240[_0x42bbc2(0xca)](0x4)[_0x42bbc2(0xcc)](_0x42bbc2(0xf5)),_0x134daf=_0x50c505[_0x42bbc2(0xd7)](_0x2e69ab);return _0x42bbc2(0xee)+_0x543f5c+'_'+_0x521439+'_'+_0x179237+_0x134daf;}async[_0x31d2ea(0xe4)](_0x25097b,_0x1fda0e,_0x536dba=_0x31d2ea(0xd9)){const _0x4b5c68=_0x31d2ea;try{const _0x738ebf=this[_0x4b5c68(0xd8)][_0x536dba]||_0x4b5c68(0xd9),_0x4bf7af=this[_0x4b5c68(0xe0)](_0x1fda0e,_0x536dba),_0x550735=_0x50c505[_0x4b5c68(0xcd)](this[_0x4b5c68(0xf1)],_0x738ebf,_0x4bf7af),_0x4733dc=_0x50c505[_0x4b5c68(0xed)](_0x550735);return!_0xe2837d[_0x4b5c68(0xcf)](_0x4733dc)&&_0xe2837d[_0x4b5c68(0xe9)](_0x4733dc,{'recursive':!![]}),await _0xe2837d[_0x4b5c68(0xdc)][_0x4b5c68(0xe3)](_0x550735,_0x25097b),{'success':!![],'path':_0x550735,'fileName':_0x4bf7af};}catch(_0x4ebf83){return console[_0x4b5c68(0xce)](_0x4b5c68(0xd2),_0x4ebf83),{'success':![],'error':_0x4ebf83[_0x4b5c68(0xeb)]};}}async[_0x31d2ea(0xfb)](_0x356e06){const _0x153ca3=_0x31d2ea;try{if(_0xe2837d[_0x153ca3(0xcf)](_0x356e06))return await _0xe2837d[_0x153ca3(0xdc)][_0x153ca3(0xe8)](_0x356e06),!![];return![];}catch(_0xb39335){return console[_0x153ca3(0xce)](_0x153ca3(0xf7),_0xb39335),![];}}[_0x31d2ea(0xdb)](_0x44b461,_0x373abb){const _0x18b849=_0x31d2ea;return _0x50c505[_0x18b849(0xcd)](this[_0x18b849(0xf1)],this[_0x18b849(0xd8)][_0x44b461]||_0x18b849(0xd9),_0x373abb);}[_0x31d2ea(0xf6)](_0x180370){const _0x281715=_0x31d2ea;return _0x50c505[_0x281715(0xcd)](this[_0x281715(0xf1)],this[_0x281715(0xd8)][_0x180370]||_0x281715(0xd9));}[_0x31d2ea(0xfc)](_0x21c3b0){const _0x37edc8=_0x31d2ea;return _0xe2837d[_0x37edc8(0xcf)](_0x21c3b0);}async[_0x31d2ea(0xea)](_0xd647e1){const _0x17d62d=_0x31d2ea;try{const _0x4a7ce7=await _0xe2837d[_0x17d62d(0xdc)][_0x17d62d(0x100)](_0xd647e1);return{'size':_0x4a7ce7[_0x17d62d(0xef)],'created':_0x4a7ce7[_0x17d62d(0xfe)],'modified':_0x4a7ce7[_0x17d62d(0xc9)]};}catch(_0x5063bb){return console[_0x17d62d(0xce)](_0x17d62d(0xc8),_0x5063bb),null;}}async[_0x31d2ea(0xc5)](_0x813267=0x36ee80){const _0x463c2b=_0x31d2ea;try{const _0x4297a5=_0x50c505[_0x463c2b(0xcd)](this[_0x463c2b(0xf1)],this[_0x463c2b(0xd8)][_0x463c2b(0xd9)]),_0x3f8952=await _0xe2837d[_0x463c2b(0xdc)][_0x463c2b(0xc6)](_0x4297a5),_0x4135f1=Date[_0x463c2b(0xec)]();for(const _0x582a2a of _0x3f8952){const _0x527f4e=_0x50c505[_0x463c2b(0xcd)](_0x4297a5,_0x582a2a),_0x56b1ef=await _0xe2837d[_0x463c2b(0xdc)][_0x463c2b(0x100)](_0x527f4e);_0x4135f1-_0x56b1ef[_0x463c2b(0xdd)]>_0x813267&&(await this[_0x463c2b(0xfb)](_0x527f4e),console[_0x463c2b(0xe2)](_0x463c2b(0xe6)+_0x527f4e));}}catch(_0x33d42a){console[_0x463c2b(0xce)](_0x463c2b(0xe1),_0x33d42a);}}}const fileManager=new FileManager();export default fileManager;