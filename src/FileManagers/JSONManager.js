const _0x1bbbdd=_0x2e48;function _0x3eff(){const _0x298c7f=['delete','499345UMRFUa','[JSONManager]:\x20Could\x20not\x20get\x20stats\x20for\x20','split','toISOString','deleteNestedValue','endsWith','isFile','backup','isInitialized','message','filePath\x20is\x20required','isDirectory','backup_','backupTimer','get','init','328GIfjWE','checkInitialized','[JSONManager]:\x20Closed\x20successfully','readFile','Backup\x20path\x20is\x20a\x20directory,\x20not\x20a\x20file:\x20','parse','[JSONManager]:\x20Data\x20updated','replace','startsWith','utf8','dataChanged','code','set','created','writeFile','Value\x20at\x20key\x20\x22','cleanOldBackups','stopAutoBackup','[JSONManager]:\x20Failed\x20to\x20restore\x20from\x20latest\x20backup:\x20','join','\x20not\x20found,\x20creating\x20new\x20file','restoreFromBackup','error','setNestedValue','JSONManager\x20not\x20initialized.\x20Call\x20init()\x20first.','./backups','initialized','ensureFileDirectory','stat','backupInterval','[JSONManager]:\x20No\x20backup\x20available,\x20starting\x20with\x20empty\x20data','getNestedValue','startAutoBackup','Failed\x20to\x20create\x20backup\x20file\x20at\x20','saveData','update','12554080rzMKnS','access','trim','resolve','[JSONManager]:\x20Auto\x20backup\x20stopped','loadData','unlink','1840092AOTKgf','data','\x22\x20is\x20not\x20an\x20array','reset','87941AaPhVW','[JSONManager]:\x20Initialized\x20successfully','4OtiNQG','deepMerge','slice','Backup\x20file\x20is\x20empty:\x20','close','hasOwnProperty','push','getData','[JSONManager\x20Error]:\x20','dirname','.json','[JSONManager]:\x20Main\x20file\x20corrupt\x20or\x20invalid\x20JSON,\x20attempting\x20restore\x20from\x20backup','[JSONManager]:\x20Backup\x20created\x20at\x20','[JSONManager]:\x20Cleaned\x20','object','3831282tzYLTv','\x20old\x20backups','27509kxFaxv','[JSONManager]:\x20Error\x20getting\x20backup\x20list:\x20','log','filePath','createBackup','dataSaved','path','[JSONManager]:\x20Data\x20restored\x20from\x20','emit','dataRestored','size','Backup\x20file\x20not\x20found:\x20','closed','pop','24hnbpUx','[JSONManager]:\x20Could\x20not\x20delete\x20backup\x20','maxBackups','readdir','[JSONManager]:\x20Auto\x20backup\x20started\x20(every\x20','stringify','fileExists','backupDir','[JSONManager]:\x20File\x20','restoreFromLatestBackup','sort','length','isArray','\x20hours)','autoBackup','getBackupList','warn','mtime','1477938SLEekr','EEXIST','mkdir','ensureBackupDir'];_0x3eff=function(){return _0x298c7f;};return _0x3eff();}(function(_0x3aee7b,_0x554a3c){const _0x398034=_0x2e48,_0x1f095b=_0x3aee7b();while(!![]){try{const _0x216c0b=-parseInt(_0x398034(0x160))/0x1*(-parseInt(_0x398034(0x16e))/0x2)+parseInt(_0x398034(0x180))/0x3*(parseInt(_0x398034(0x14f))/0x4)+parseInt(_0x398034(0x10e))/0x5+-parseInt(_0x398034(0x149))/0x6+parseInt(_0x398034(0x14d))/0x7*(parseInt(_0x398034(0x11e))/0x8)+parseInt(_0x398034(0x15e))/0x9+-parseInt(_0x398034(0x142))/0xa;if(_0x216c0b===_0x554a3c)break;else _0x1f095b['push'](_0x1f095b['shift']());}catch(_0x1308ee){_0x1f095b['push'](_0x1f095b['shift']());}}}(_0x3eff,0x49902));import _0x3855f7 from'path';function _0x2e48(_0x459a5c,_0x100fda){const _0x3eff24=_0x3eff();return _0x2e48=function(_0x2e48e4,_0x49a70b){_0x2e48e4=_0x2e48e4-0x10a;let _0x333613=_0x3eff24[_0x2e48e4];return _0x333613;},_0x2e48(_0x459a5c,_0x100fda);}import{promises as _0xd4c2df}from'fs';import _0x1ccb62 from'events';class JSONManager extends _0x1ccb62{constructor(_0x47e1ab={}){const _0x280b71=_0x2e48;super();if(!_0x47e1ab[_0x280b71(0x163)])throw new Error(_0x280b71(0x118));this[_0x280b71(0x163)]=_0x3855f7[_0x280b71(0x145)](_0x47e1ab[_0x280b71(0x163)]),this[_0x280b71(0x175)]=_0x3855f7[_0x280b71(0x145)](_0x47e1ab[_0x280b71(0x175)]||_0x280b71(0x137)),this[_0x280b71(0x13b)]=(_0x47e1ab[_0x280b71(0x13b)]||0x18)*0x3c*0x3c*0x3e8,this[_0x280b71(0x170)]=_0x47e1ab[_0x280b71(0x170)]||0x7,this[_0x280b71(0x17c)]=_0x47e1ab[_0x280b71(0x17c)]!==![],this[_0x280b71(0x14a)]={},this[_0x280b71(0x11b)]=null,this[_0x280b71(0x116)]=![],this['on'](_0x280b71(0x134),_0x40a99d=>{const _0x59d043=_0x280b71;console[_0x59d043(0x134)](_0x59d043(0x157)+_0x40a99d[_0x59d043(0x117)]);}),this['on'](_0x280b71(0x115),_0x18c6d7=>{const _0x415da0=_0x280b71;console[_0x415da0(0x162)](_0x415da0(0x15b)+_0x18c6d7);}),this['on'](_0x280b71(0x128),()=>{const _0x3463c3=_0x280b71;console[_0x3463c3(0x162)](_0x3463c3(0x124));});}async[_0x1bbbdd(0x11d)](){const _0x5300c3=_0x1bbbdd;try{await this[_0x5300c3(0x139)](),await this[_0x5300c3(0x10c)](),await this[_0x5300c3(0x147)](),this[_0x5300c3(0x17c)]&&this[_0x5300c3(0x13e)](),this[_0x5300c3(0x116)]=!![],this[_0x5300c3(0x168)](_0x5300c3(0x138)),console[_0x5300c3(0x162)](_0x5300c3(0x14e));}catch(_0x538843){this[_0x5300c3(0x168)](_0x5300c3(0x134),_0x538843);throw _0x538843;}}async[_0x1bbbdd(0x147)](){const _0xeb4ef5=_0x1bbbdd;try{const _0x3f943a=await this[_0xeb4ef5(0x174)](this[_0xeb4ef5(0x163)]);if(_0x3f943a){const _0x43bd6a=await _0xd4c2df[_0xeb4ef5(0x121)](this[_0xeb4ef5(0x163)],_0xeb4ef5(0x127));_0x43bd6a[_0xeb4ef5(0x144)]()===''?this[_0xeb4ef5(0x14a)]={}:this[_0xeb4ef5(0x14a)]=JSON[_0xeb4ef5(0x123)](_0x43bd6a);}else console[_0xeb4ef5(0x162)](_0xeb4ef5(0x176)+this[_0xeb4ef5(0x163)]+_0xeb4ef5(0x132)),this[_0xeb4ef5(0x14a)]={},await this[_0xeb4ef5(0x140)]();}catch(_0x54c9b6){console[_0xeb4ef5(0x17e)](_0xeb4ef5(0x15a));const _0x31d04b=await this[_0xeb4ef5(0x177)]();!_0x31d04b&&(console[_0xeb4ef5(0x17e)](_0xeb4ef5(0x13c)),this[_0xeb4ef5(0x14a)]={},await this[_0xeb4ef5(0x140)]());}}async[_0x1bbbdd(0x140)](){const _0x418805=_0x1bbbdd;try{await this[_0x418805(0x139)]();const _0x288147=JSON[_0x418805(0x173)](this[_0x418805(0x14a)],null,0x2);await _0xd4c2df[_0x418805(0x12c)](this[_0x418805(0x163)],_0x288147,_0x418805(0x127)),this[_0x418805(0x168)](_0x418805(0x165));}catch(_0x2e3afa){this[_0x418805(0x168)](_0x418805(0x134),_0x2e3afa);throw _0x2e3afa;}}[_0x1bbbdd(0x156)](){const _0x596d02=_0x1bbbdd;return this[_0x596d02(0x11f)](),{...this[_0x596d02(0x14a)]};}[_0x1bbbdd(0x11c)](_0x5b023d,_0xced8e7=null){const _0x4c5a7d=_0x1bbbdd;return this[_0x4c5a7d(0x11f)](),this[_0x4c5a7d(0x13d)](this[_0x4c5a7d(0x14a)],_0x5b023d,_0xced8e7);}async[_0x1bbbdd(0x12a)](_0x39b33c,_0x5cb45f){const _0x559332=_0x1bbbdd;this[_0x559332(0x11f)](),this[_0x559332(0x135)](this[_0x559332(0x14a)],_0x39b33c,_0x5cb45f),await this[_0x559332(0x140)](),this[_0x559332(0x168)](_0x559332(0x128),{'key':_0x39b33c,'value':_0x5cb45f});}async[_0x1bbbdd(0x10d)](_0x38be21){const _0x37e6c7=_0x1bbbdd;this[_0x37e6c7(0x11f)](),this[_0x37e6c7(0x112)](this[_0x37e6c7(0x14a)],_0x38be21),await this[_0x37e6c7(0x140)](),this[_0x37e6c7(0x168)](_0x37e6c7(0x128),{'key':_0x38be21,'action':_0x37e6c7(0x10d)});}async[_0x1bbbdd(0x155)](_0x4ddf1d,_0x4aafe7){const _0x34d52a=_0x1bbbdd;this[_0x34d52a(0x11f)]();const _0x2af414=this[_0x34d52a(0x11c)](_0x4ddf1d,[]);if(!Array[_0x34d52a(0x17a)](_0x2af414))throw new Error(_0x34d52a(0x12d)+_0x4ddf1d+_0x34d52a(0x14b));_0x2af414[_0x34d52a(0x155)](_0x4aafe7),await this[_0x34d52a(0x12a)](_0x4ddf1d,_0x2af414);}async[_0x1bbbdd(0x141)](_0x3de29b){const _0x27ae24=_0x1bbbdd;this[_0x27ae24(0x11f)](),this[_0x27ae24(0x14a)]=this[_0x27ae24(0x150)](this[_0x27ae24(0x14a)],_0x3de29b),await this[_0x27ae24(0x140)](),this[_0x27ae24(0x168)](_0x27ae24(0x128),{'data':_0x3de29b,'action':_0x27ae24(0x141)});}async[_0x1bbbdd(0x14c)](_0x5eb89c={}){const _0x189bbf=_0x1bbbdd;this[_0x189bbf(0x11f)](),this[_0x189bbf(0x14a)]={..._0x5eb89c},await this[_0x189bbf(0x140)](),this[_0x189bbf(0x168)](_0x189bbf(0x128),{'action':_0x189bbf(0x14c)});}async[_0x1bbbdd(0x164)](){const _0xa47612=_0x1bbbdd;try{await this[_0xa47612(0x10c)]();const _0xd67289=new Date()[_0xa47612(0x111)]()[_0xa47612(0x125)](/[:.]/g,'-'),_0x1e6e18=_0xa47612(0x11a)+_0xd67289+_0xa47612(0x159),_0x2fa324=_0x3855f7[_0xa47612(0x131)](this[_0xa47612(0x175)],_0x1e6e18),_0x1139f9=JSON[_0xa47612(0x173)](this[_0xa47612(0x14a)],null,0x2);await _0xd4c2df[_0xa47612(0x12c)](_0x2fa324,_0x1139f9,_0xa47612(0x127));const _0x3ae65a=await this[_0xa47612(0x174)](_0x2fa324);if(!_0x3ae65a)throw new Error(_0xa47612(0x13f)+_0x2fa324);return await this[_0xa47612(0x12e)](),this[_0xa47612(0x168)](_0xa47612(0x115),_0x2fa324),_0x2fa324;}catch(_0x26e669){this[_0xa47612(0x168)](_0xa47612(0x134),_0x26e669);throw _0x26e669;}}async[_0x1bbbdd(0x133)](_0x1e48cc){const _0x47e78e=_0x1bbbdd;try{const _0x12f63c=await this[_0x47e78e(0x174)](_0x1e48cc);if(!_0x12f63c)throw new Error(_0x47e78e(0x16b)+_0x1e48cc);const _0x9af519=await _0xd4c2df[_0x47e78e(0x13a)](_0x1e48cc);if(_0x9af519[_0x47e78e(0x119)]())throw new Error(_0x47e78e(0x122)+_0x1e48cc);const _0x8932d=await _0xd4c2df[_0x47e78e(0x121)](_0x1e48cc,_0x47e78e(0x127));if(_0x8932d[_0x47e78e(0x144)]()==='')throw new Error(_0x47e78e(0x152)+_0x1e48cc);this[_0x47e78e(0x14a)]=JSON[_0x47e78e(0x123)](_0x8932d),await this[_0x47e78e(0x140)](),this[_0x47e78e(0x168)](_0x47e78e(0x169),_0x1e48cc),console[_0x47e78e(0x162)](_0x47e78e(0x167)+_0x1e48cc);}catch(_0x36bafe){this[_0x47e78e(0x168)](_0x47e78e(0x134),_0x36bafe);throw _0x36bafe;}}async[_0x1bbbdd(0x177)](){const _0x4bb7b0=_0x1bbbdd;try{const _0x162f61=await this[_0x4bb7b0(0x17d)]();if(_0x162f61[_0x4bb7b0(0x179)]===0x0)return![];const _0x393a0d=_0x162f61[0x0][_0x4bb7b0(0x166)];return await this[_0x4bb7b0(0x133)](_0x393a0d),!![];}catch(_0x405b7f){return console[_0x4bb7b0(0x17e)](_0x4bb7b0(0x130)+_0x405b7f[_0x4bb7b0(0x117)]),![];}}async[_0x1bbbdd(0x17d)](){const _0x3ed199=_0x1bbbdd;try{const _0x285ce8=await this[_0x3ed199(0x174)](this[_0x3ed199(0x175)]);if(!_0x285ce8)return[];const _0x1c6449=await _0xd4c2df[_0x3ed199(0x171)](this[_0x3ed199(0x175)]),_0x536b6f=[];for(const _0x451fe4 of _0x1c6449){if(_0x451fe4[_0x3ed199(0x126)](_0x3ed199(0x11a))&&_0x451fe4[_0x3ed199(0x113)](_0x3ed199(0x159))){const _0x517756=_0x3855f7[_0x3ed199(0x131)](this[_0x3ed199(0x175)],_0x451fe4);try{const _0x19355f=await _0xd4c2df[_0x3ed199(0x13a)](_0x517756);_0x19355f[_0x3ed199(0x114)]()&&_0x536b6f[_0x3ed199(0x155)]({'filename':_0x451fe4,'path':_0x517756,'size':_0x19355f[_0x3ed199(0x16a)],'created':_0x19355f[_0x3ed199(0x17f)]});}catch(_0x4dc7d9){console[_0x3ed199(0x17e)](_0x3ed199(0x10f)+_0x517756+':\x20'+_0x4dc7d9[_0x3ed199(0x117)]);}}}return _0x536b6f[_0x3ed199(0x178)]((_0x21b911,_0x408c3b)=>_0x408c3b[_0x3ed199(0x12b)]-_0x21b911[_0x3ed199(0x12b)]);}catch(_0x4b41ba){return console[_0x3ed199(0x17e)](_0x3ed199(0x161)+_0x4b41ba[_0x3ed199(0x117)]),[];}}[_0x1bbbdd(0x13e)](){const _0x147bcd=_0x1bbbdd;this[_0x147bcd(0x11b)]&&clearInterval(this[_0x147bcd(0x11b)]),this[_0x147bcd(0x11b)]=setInterval(async()=>{const _0x15123f=_0x147bcd;try{await this[_0x15123f(0x164)]();}catch(_0x59ee44){this[_0x15123f(0x168)](_0x15123f(0x134),_0x59ee44);}},this[_0x147bcd(0x13b)]),console[_0x147bcd(0x162)](_0x147bcd(0x172)+this[_0x147bcd(0x13b)]/(0x3c*0x3c*0x3e8)+_0x147bcd(0x17b));}[_0x1bbbdd(0x12f)](){const _0x2a6917=_0x1bbbdd;this[_0x2a6917(0x11b)]&&(clearInterval(this[_0x2a6917(0x11b)]),this[_0x2a6917(0x11b)]=null,console[_0x2a6917(0x162)](_0x2a6917(0x146)));}async[_0x1bbbdd(0x153)](){const _0x2e6d47=_0x1bbbdd;this[_0x2e6d47(0x12f)](),await this[_0x2e6d47(0x140)](),this[_0x2e6d47(0x168)](_0x2e6d47(0x16c)),console[_0x2e6d47(0x162)](_0x2e6d47(0x120));}async[_0x1bbbdd(0x139)](){const _0x4daa4f=_0x1bbbdd;try{const _0x39ab94=_0x3855f7[_0x4daa4f(0x158)](this[_0x4daa4f(0x163)]);await _0xd4c2df[_0x4daa4f(0x10b)](_0x39ab94,{'recursive':!![]});}catch(_0x1ec2fd){if(_0x1ec2fd[_0x4daa4f(0x129)]!==_0x4daa4f(0x10a))throw _0x1ec2fd;}}async[_0x1bbbdd(0x10c)](){const _0x5a1012=_0x1bbbdd;try{await _0xd4c2df[_0x5a1012(0x10b)](this[_0x5a1012(0x175)],{'recursive':!![]});}catch(_0x5528a0){if(_0x5528a0[_0x5a1012(0x129)]!==_0x5a1012(0x10a))throw _0x5528a0;}}async[_0x1bbbdd(0x174)](_0x46f3a0){const _0x37db8c=_0x1bbbdd;try{return await _0xd4c2df[_0x37db8c(0x143)](_0x46f3a0),!![];}catch{return![];}}[_0x1bbbdd(0x11f)](){const _0x3b59b2=_0x1bbbdd;if(!this[_0x3b59b2(0x116)])throw new Error(_0x3b59b2(0x136));}[_0x1bbbdd(0x13d)](_0x160255,_0x20e380,_0x20e426){const _0x11f1ab=_0x1bbbdd,_0x168ec6=_0x20e380[_0x11f1ab(0x110)]('.');let _0x44aeec=_0x160255;for(const _0xad5e1e of _0x168ec6){if(_0x44aeec===null||_0x44aeec===undefined||!_0x44aeec[_0x11f1ab(0x154)](_0xad5e1e))return _0x20e426;_0x44aeec=_0x44aeec[_0xad5e1e];}return _0x44aeec;}[_0x1bbbdd(0x135)](_0x2e182a,_0x1fe199,_0x2b6e75){const _0x445038=_0x1bbbdd,_0x88631b=_0x1fe199[_0x445038(0x110)]('.'),_0x8c38e2=_0x88631b[_0x445038(0x16d)]();let _0x594e52=_0x2e182a;for(const _0x151066 of _0x88631b){(!_0x594e52[_0x151066]||typeof _0x594e52[_0x151066]!==_0x445038(0x15d)||Array[_0x445038(0x17a)](_0x594e52[_0x151066]))&&(_0x594e52[_0x151066]={}),_0x594e52=_0x594e52[_0x151066];}_0x594e52[_0x8c38e2]=_0x2b6e75;}[_0x1bbbdd(0x112)](_0xe6cf31,_0x75c8b5){const _0x5d01f7=_0x1bbbdd,_0x39c0cd=_0x75c8b5[_0x5d01f7(0x110)]('.'),_0x17bd22=_0x39c0cd[_0x5d01f7(0x16d)]();let _0x3221a8=_0xe6cf31;for(const _0x53c03f of _0x39c0cd){if(!_0x3221a8[_0x53c03f])return;_0x3221a8=_0x3221a8[_0x53c03f];}delete _0x3221a8[_0x17bd22];}[_0x1bbbdd(0x150)](_0x4cf11e,_0x5b501e){const _0xd8275d=_0x1bbbdd,_0xe68dbf={..._0x4cf11e};for(const _0x42fd33 in _0x5b501e){_0x5b501e[_0x42fd33]&&typeof _0x5b501e[_0x42fd33]===_0xd8275d(0x15d)&&!Array[_0xd8275d(0x17a)](_0x5b501e[_0x42fd33])?_0xe68dbf[_0x42fd33]=this[_0xd8275d(0x150)](_0xe68dbf[_0x42fd33]||{},_0x5b501e[_0x42fd33]):_0xe68dbf[_0x42fd33]=_0x5b501e[_0x42fd33];}return _0xe68dbf;}async[_0x1bbbdd(0x12e)](){const _0x1a8b90=_0x1bbbdd;try{const _0x378080=await this[_0x1a8b90(0x17d)]();if(_0x378080[_0x1a8b90(0x179)]>this[_0x1a8b90(0x170)]){const _0x3a1bf2=_0x378080[_0x1a8b90(0x151)](this[_0x1a8b90(0x170)]);for(const _0x14810e of _0x3a1bf2){try{await _0xd4c2df[_0x1a8b90(0x148)](_0x14810e[_0x1a8b90(0x166)]);}catch(_0x3ca1e0){console[_0x1a8b90(0x17e)](_0x1a8b90(0x16f)+_0x14810e[_0x1a8b90(0x166)]+':\x20'+_0x3ca1e0[_0x1a8b90(0x117)]);}}console[_0x1a8b90(0x162)](_0x1a8b90(0x15c)+_0x3a1bf2[_0x1a8b90(0x179)]+_0x1a8b90(0x15f));}}catch(_0x27102f){this[_0x1a8b90(0x168)](_0x1a8b90(0x134),_0x27102f);}}}export default JSONManager;